"use strict";(self.webpackChunkdocs_rancherdesktop_io=self.webpackChunkdocs_rancherdesktop_io||[]).push([[7457],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=o.createContext({}),p=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),h=i,m=u["".concat(l,".").concat(h)]||u[h]||d[h]||a;return n?o.createElement(m,r(r({ref:t},c),{},{components:n})):o.createElement(m,r({ref:t},c))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var p=2;p<a;p++)r[p]=n[p];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9496:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return r},default:function(){return d},frontMatter:function(){return a},metadata:function(){return s},toc:function(){return p}});var o=n(3117),i=(n(7294),n(3905));const a={title:"Debugging a Container App with VS Code Docker extension"},r=void 0,s={unversionedId:"how-to-guides/vs-code-docker",id:"version-latest/how-to-guides/vs-code-docker",title:"Debugging a Container App with VS Code Docker extension",description:"The VS Code Docker extension makes it easy to build, manage, debug and deploy containerized applications in Visual Studio Code.",source:"@site/versioned_docs/version-latest/how-to-guides/vs-code-docker.md",sourceDirName:"how-to-guides",slug:"/how-to-guides/vs-code-docker",permalink:"/how-to-guides/vs-code-docker",draft:!1,editUrl:"https://github.com/rancher-sandbox/docs.rancherdesktop.io/edit/main/versioned_docs/version-latest/how-to-guides/vs-code-docker.md",tags:[],version:"latest",frontMatter:{title:"Debugging a Container App with VS Code Docker extension"},sidebar:"tutorialSidebar",previous:{title:"Setup NGINX Ingress Controller",permalink:"/how-to-guides/setup-NGINX-Ingress-Controller"},next:{title:"VS Code Remote Containers",permalink:"/how-to-guides/vs-code-remote-containers"}},l={},p=[{value:"Steps to debug a sample application running within a container",id:"steps-to-debug-a-sample-application-running-within-a-container",level:3}],c={toc:p};function d(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,o.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The VS Code Docker extension makes it easy to build, manage, debug and deploy containerized applications in Visual Studio Code."),(0,i.kt)("h3",{id:"steps-to-debug-a-sample-application-running-within-a-container"},"Steps to debug a sample application running within a container"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Install and launch Rancher Desktop. Select ",(0,i.kt)("inlineCode",{parentName:"li"},"dockerd (moby)")," as the Container Runtime from the ",(0,i.kt)("inlineCode",{parentName:"li"},"Kubernetes Settings")," menu.")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(7834).Z,width:"1155",height:"743"})),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Install and launch Visual Studio Code or Visual Studio Code Insiders. This tutorial uses Visual Studio Code.")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(4846).Z,width:"1158",height:"741"})),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"Install the VS Code Docker extension from the marketplace. ")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(8494).Z,width:"1261",height:"813"})," "),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"You can use the samples provided at this Github repository, ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/bwateratmsft/samples"},"https://github.com/bwateratmsft/samples"),". Clone this repository and open ",(0,i.kt)("inlineCode",{parentName:"p"},"expressapp")," folder in your VS Code session. ")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},'Open the command palette (Ctrl+Shift+P, F1, or Cmd+Shift+P) and run "Add Docker Files to Workspace". Since this is an Express app, Select ',(0,i.kt)("inlineCode",{parentName:"p"},"Node.js")," as the Application Platform and ",(0,i.kt)("inlineCode",{parentName:"p"},"3000")," (or any other available port) as the ",(0,i.kt)("inlineCode",{parentName:"p"},"port"),". As it's a simple example, select ",(0,i.kt)("inlineCode",{parentName:"p"},"No")," for the ",(0,i.kt)("inlineCode",{parentName:"p"},"Include optional Docker Compose files")," prompt. This step adds a ",(0,i.kt)("inlineCode",{parentName:"p"},"Dockerfile")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Launch Configuration")," required to debug the application."))),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(167).Z,width:"1053",height:"702"})),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},"Insert a breakpoint in the code.")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(5491).Z,width:"1059",height:"704"})),(0,i.kt)("ol",{start:8},(0,i.kt)("li",{parentName:"ol"},'In the Debug window at the top, switch the active debug configuration to "Docker Node.js Launch". Press ',(0,i.kt)("inlineCode",{parentName:"li"},"F5")," to start the application container in ",(0,i.kt)("inlineCode",{parentName:"li"},"Debug")," mode. You will see the sample application's landing page opening in your browser, and the code execution stopping at the breakpoint. From here, you can debug the application as if it's running on your host.")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(2903).Z,width:"1054",height:"704"})),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(5689).Z,width:"1054",height:"701"})),(0,i.kt)("ol",{start:9},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Sometimes, the application might not break at the set breakpoint on the first run as the debugging process may not have started. In this case, refresh the browser to trigger the execution again to hit the breakpoint. You can also get around this behavior by setting the property ",(0,i.kt)("inlineCode",{parentName:"p"},"inspectMode: 'break'")," in ",(0,i.kt)("inlineCode",{parentName:"p"},"task.json")," file to prevent the app from running until the debugger attaches.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On some machines, the firewall settings might prevent the debugging process from establishing a connection between the host and the container processes. In this case, you can add a firewall rule to allow communication between the VM where the container is running and the host where you have the VS Code session running. On Windows, you can add a firewall rule by running the below command from a privileged powershell:"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-powershell"},"New-NetFirewallRule -Action Allow -Description 'Allow communication from WSL containers' -Direction Inbound -Enabled True -InterfaceAlias 'vEthernet (WSL)' -Name 'WSL Inbound' -DisplayName 'WSL Inbound'\n")))}d.isMDXComponent=!0},7834:function(e,t,n){t.Z=n.p+"assets/images/rd-main-682924ff059ac64a1aa2636e09ce2ef3.png"},167:function(e,t,n){t.Z=n.p+"assets/images/vscode-docker-add-docker-files-1-e19810f9204feb5e440424de9e3101cc.png"},5689:function(e,t,n){t.Z=n.p+"assets/images/vscode-docker-debug-breakpoint-hit-42fb73fe3c0f223c2d0f06bdb7d555f6.png"},5491:function(e,t,n){t.Z=n.p+"assets/images/vscode-docker-debug-breakpoint-f30564461f6e03aa061fb9904d4c3c91.png"},2903:function(e,t,n){t.Z=n.p+"assets/images/vscode-docker-debug-configuration-c646939163651c68beb853de2f45a4ed.png"},8494:function(e,t,n){t.Z=n.p+"assets/images/vscode-docker-marketplace-0aca928329baea1157f0fa92111e99d0.png"},4846:function(e,t,n){t.Z=n.p+"assets/images/vscode-main-f178361041b0f3168d8041a308fa00b1.png"}}]);